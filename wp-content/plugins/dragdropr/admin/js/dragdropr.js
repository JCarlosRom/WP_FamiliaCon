parcelRequireDragDropr=function(e,r,n,t){var i="function"==typeof parcelRequireDragDropr&&parcelRequireDragDropr,o="function"==typeof require&&require;function u(n,t){if(!r[n]){if(!e[n]){var f="function"==typeof parcelRequireDragDropr&&parcelRequireDragDropr;if(!t&&f)return f(n,!0);if(i)return i(n,!0);if(o&&"string"==typeof n)return o(n);var c=new Error("Cannot find module '"+n+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[n][1][r]||r},p.cache={};var l=r[n]=new u.Module(n);e[n][0].call(l.exports,p,l,l.exports,this)}return r[n].exports;function p(e){return u(p.resolve(e))}}u.isParcelRequire=!0,u.Module=function(e){this.id=e,this.bundle=u,this.exports={}},u.modules=e,u.cache=r,u.parent=i,u.register=function(r,n){e[r]=[function(e,r){r.exports=n},{}]};for(var f=0;f<n.length;f++)u(n[f]);if(n.length){var c=u(n[n.length-1]);t&&(!function(t,n){function o(t){return typeof t==typeof Function}function r(t){return!o(t)&&(t instanceof Object||"[object Object]"===Object.prototype.toString.call(t))}function e(t){if(!r(t))return!1;var n=t.constructor;if(!o(n))return!1;var e=n.prototype;return!!r(e)&&(!1!==e.hasOwnProperty("isPrototypeOf")&&n==={}.constructor)}!function t(n,c){if(r(c))for(var i in c)!o(c[i])||n[i]?e(c[i])?(n[i]||(n[i]={}),t(n[i],c[i])):n[i]||(n[i]=c[i]):n[i]=c[i]}(t=this[t]||(this[t]={}),c)}(t))}return u}({"q/7t":[function(require,module,exports) {
    "use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}exports.__esModule=!0;var e=0;function n(t){return"number"==typeof t&&!isNaN(t)}function o(t){return"string"==typeof t}function r(t,e){return void 0===e&&(e=Object),!u(t)&&(t instanceof e||"[object Object]"===Object.prototype.toString.call(t))}function i(t){return void 0===t}function u(e){return t(e)===("undefined"==typeof Function?"undefined":t(Function))}function s(t){return Array.isArray(t)}function c(t){return t instanceof Element||t instanceof Node&&1===t.nodeType}function f(t){return t instanceof HTMLInputElement||c(t)&&"input"===t.tagName.toLowerCase()}function p(t){return t instanceof HTMLSelectElement||c(t)&&"select"===t.tagName.toLowerCase()}function a(t){return t instanceof HTMLTextAreaElement||c(t)&&"textarea"===t.tagName.toLocaleLowerCase()}function l(t,n){return o(t)||(t=""),o(n)||(n=""),t+"_"+ ++e+"_"+n}exports.isNumber=n,exports.isString=o,exports.isObject=r,exports.isVoid=i,exports.isFunction=u,exports.isArray=s,exports.isElement=c,exports.isHTMLInputElement=f,exports.isHTMLSelectElement=p,exports.isHTMLTextAreaElement=a,exports.uniqueID=l;
},{}],"M706":[function(require,module,exports) {
    "use strict";exports.__esModule=!0;var t=require("../functions"),n=function(){function n(n,e){var i=this;this.destruct=function(){i.func=null,i.eventName=null},this.eventName=t.isString(n)?n:null,this.func=t.isFunction(e)?e:t.isFunction(n)?n:null}return n.prototype.hasEventName=function(){return t.isString(this.eventName)},n.prototype.getEventName=function(){return this.eventName},n.prototype.hasFunction=function(){return t.isFunction(this.func)},n.prototype.getFunction=function(){return this.func},n.prototype.isValid=function(t){return(!this.hasEventName()||this.getEventName()===t)&&this.hasFunction()},n.prototype.execute=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return this.hasFunction()&&this.getFunction().apply(void 0,t),this},n}();exports.Listener=n;
},{"../functions":"q/7t"}],"k3rn":[function(require,module,exports) {
    "use strict";exports.__esModule=!0;var e=require("./listener"),t=require("../functions"),r=function(){function r(){this.listeners=[],this.eventCache={}}return r.prototype.dispatch=function(e){for(var r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];t.isString(e)&&(this.eventCache[e]=!0);for(var n=0,s=this.getListeners();n<s.length;n++){var o=s[n];o.isValid(e)&&o.execute.apply(o,r)}return this},r.prototype.addListener=function(t){return t instanceof e.Listener&&this.listeners.push(t),this},r.prototype.getListeners=function(){return this.listeners},r.prototype.removeListener=function(t){if(t instanceof e.Listener){var r=this.listeners.indexOf(t);-1!==r&&this.listeners.splice(r,1)}return this},r.prototype.createListener=function(t,r){var i=new e.Listener(t,r);return this.addListener(i),i},r.prototype.dispatched=function(e){return t.isString(e)&&!0===this.eventCache[e]},r}();exports.BaseClass=r;
},{"./listener":"M706","../functions":"q/7t"}],"3jHN":[function(require,module,exports) {
    "use strict";var t=this&&this.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),e=this&&this.__assign||function(){return(e=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};exports.__esModule=!0;var r=require("../functions"),n=require("./base"),i=function(n){function i(t){var e=n.call(this)||this;return e.setDataSource(t),e}return t(i,n),i.prototype.setDataSource=function(t){var n={};r.isObject(t)&&(n=e({},t)),this.dataSource=n,this.dispatch();for(var i=0,o=this.getListeners();i<o.length;i++){var s=o[i];s.hasEventName()&&void 0!==this.read(s.getEventName())&&s.execute()}return this},i.prototype.getDataSource=function(){return this.dataSource},i.prototype.write=function(t,e){var n=t.split(i.PATH_SEPARATOR),o=n.pop(),s=n.length>0?this.read(n.join(i.PATH_SEPARATOR),!0):this.getDataSource();n.push(o);var a=n.join(i.PATH_SEPARATOR);return r.isObject(s)&&(s instanceof i?s.write(o,e):s[o]=e,this.dispatch(a)),this},i.prototype.read=function(t,e){if(r.isString(t)){for(var n=t.split(i.PATH_SEPARATOR),o=n.pop(),s=this.getDataSource(),a=0,c=n;a<c.length;a++){var u=c[a];if(r.isVoid(s[u])&&e)s[u]={};else if(!r.isObject(s[u]))return;s=s instanceof i?s.read(u,e):s[u]}return r.isVoid(s[o])&&e&&(s[o]={}),s[o]}},i.PATH_SEPARATOR=".",i}(n.BaseClass);exports.Config=i;
},{"../functions":"q/7t","./base":"k3rn"}],"o496":[function(require,module,exports) {
    "use strict";exports.__esModule=!0;var e=require("../functions"),t=function(){function t(e){void 0===e&&(e=window);var t=this;this.context=e,this.load=function(e,i){return t.iframe&&e===t.iframe.src&&i===t.plugin||(t.remove(),t.iframe=t.createIframe(),t.iframe.src=e,t.innerWrapper.appendChild(t.iframe)),t.plugin=i,t.originalOverflow=t.context.document.body.style.overflow,t.context.document.body.style.overflow="hidden",t.iframe.style.visibility="visible",t.iframe.style.display="initial",t.overlay.style.visibility="visible",t.overlay.style.display="initial",t},this.hide=function(){return t.context.document.body.style.overflow=t.originalOverflow,t.overlay.style.visibility="hidden",t.overlay.style.display="none",t},this.remove=function(){return t.iframe&&(t.innerWrapper.removeChild(t.iframe),t.iframe=null),t},this.overlay=this.createOverlay(),this.innerWrapper=this.createInnerWrapper(),this.overlay.appendChild(this.innerWrapper);var i=setInterval(function(){null!==t.context.document.body&&(clearInterval(i),t.context.document.body.appendChild(t.overlay))},50)}return t.prototype.createIframe=function(){var e=this.context.document.createElement("iframe");return e.style.width="100%",e.style.height="100%",e.style.border="none",e},t.prototype.createInnerWrapper=function(){var e=this.context.document.createElement("div");return e.style.position="fixed",e.style.top="2%",e.style.right="2%",e.style.bottom="2%",e.style.left="2%",e.style.background="#FFF",e.style.boxShadow="black 0px 0px 15px",e},t.prototype.createOverlay=function(){var e=this.context.document.createElement("div");return e.style.position="fixed",e.style.top="0",e.style.right="0",e.style.bottom="0",e.style.left="0",e.style.zIndex="99999999",e.style.background="rgba(0, 0, 0, 0.2)",e.style.transition="all 300ms linear",e.style.visibility="hidden",e.style.display="none",e.onclick=this.hide,e},t.prototype.hasPlugin=function(){return e.isObject(this.plugin)},t.prototype.getPlugin=function(){return this.plugin},t}();exports.Iframe=t;
},{"../functions":"q/7t"}],"VydQ":[function(require,module,exports) {
    "use strict";exports.__esModule=!0;var t=function(){function t(t,e,i){void 0===e&&(e=1e3),void 0===i&&(i=window),this.handler=t,this.milliseconds=e,this.context=i,this.setInterval(e)}return t.prototype.setInterval=function(t){return this.terminate(),this.milliseconds=t,this.intervalID=this.context.setInterval(this.handler,this.milliseconds),this.handler(),this},t.prototype.terminate=function(){return this.intervalID&&this.context.clearInterval(this.intervalID),this},t}();exports.Worker=t;
},{}],"ta4B":[function(require,module,exports) {
    "use strict";exports.__esModule=!0;var r=require("./worker"),e=require("../functions"),t=function(){function t(r){void 0===r&&(r=window),this.context=r,this.workers={}}return t.prototype.hasWorker=function(r){return!e.isVoid(this.workers[r])},t.prototype.getWorker=function(r){return this.workers[r]},t.prototype.terminateWorker=function(r){var t=this.getWorker(r);return e.isVoid(t)||(t.terminate(),delete this.workers[r]),t},t.prototype.registerWorker=function(e,t){if(!(e instanceof r.Worker))throw new Error("Given worker is not available worker farm worker. Use createWorker to create and register the workers");return this.terminateWorker(t),this.workers[t]=e,this.workers[t]},t.prototype.createWorker=function(e,t,o){void 0===o&&(o=1e3);var i=new r.Worker(t,o,this.context);return this.registerWorker(i,e),i},t.prototype.getWorkerIdentifiers=function(){var r=[];for(var e in this.workers)r.push(e);return r},t}();exports.WorkerFarm=t;
},{"./worker":"VydQ","../functions":"q/7t"}],"kRkA":[function(require,module,exports) {
    "use strict";exports.__esModule=!0;var t=require("../context"),r=require("../functions");exports.DEFAULT_INTEGRATION="DEFAULT_INTEGRATION";var o=function(){function o(r){this.plugin=r,this.config=t.getConfig(r.getContext())}return o.prototype.getType=function(){return this.constructor.TYPE},o.prototype.getPlugin=function(){return this.plugin},o.prototype.getConfig=function(){return this.config},o.prototype.getEditorUrl=function(t,o){var n="https://app.dragdropr.com/login";return r.isString(t)&&(n="https://app.dragdropr.com/integrations/pages/"+t),n},o.TYPE=exports.DEFAULT_INTEGRATION,o}();exports.DefaultIntegration=o;
},{"../context":"17yZ","../functions":"q/7t"}],"AZEX":[function(require,module,exports) {
    var define;
    var e,t=[].slice;!function(t,r){"function"==typeof e&&null!=e.amd?e([],r):"undefined"!=typeof exports&&null!==exports?module.exports=r():t.UrlPattern=r()}(this,function(){var e,r,n,a,i,u,s,o,l,c,g,h,f,m,d;return l=function(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")},s=function(e,t){var r,n,a;for(a=[],r=-1,n=e.length;++r<n;)a=a.concat(t(e[r]));return a},m=function(e,t){var r,n,a;for(a="",r=-1,n=e.length;++r<n;)a+=t(e[r]);return a},f=function(e){return new RegExp(e.toString()+"|").exec("").length-1},g=function(e,t){var r,n,a,i,u;for(i={},r=-1,a=e.length;++r<a;)n=e[r],null!=(u=t[r])&&(null!=i[n]?(Array.isArray(i[n])||(i[n]=[i[n]]),i[n].push(u)):i[n]=u);return i},(e={}).Result=function(e,t){this.value=e,this.rest=t},e.Tagged=function(e,t){this.tag=e,this.value=t},e.tag=function(t,r){return function(n){var a,i;if(null!=(a=r(n)))return i=new e.Tagged(t,a.value),new e.Result(i,a.rest)}},e.regex=function(t){return function(r){var n,a;if(null!=(n=t.exec(r)))return a=n[0],new e.Result(a,r.slice(a.length))}},e.sequence=function(){var r;return r=1<=arguments.length?t.call(arguments,0):[],function(t){var n,a,i,u,s;for(n=-1,a=r.length,s=[],i=t;++n<a;){if(null==(u=(0,r[n])(i)))return;s.push(u.value),i=u.rest}return new e.Result(s,i)}},e.pick=function(){var r,n;return r=arguments[0],n=2<=arguments.length?t.call(arguments,1):[],function(t){var a,i;if(null!=(i=e.sequence.apply(e,n)(t)))return a=i.value,i.value=a[r],i}},e.string=function(t){var r;return r=t.length,function(n){if(n.slice(0,r)===t)return new e.Result(t,n.slice(r))}},e.lazy=function(e){var t;return t=null,function(r){return null==t&&(t=e()),t(r)}},e.baseMany=function(t,r,n,a,i){var u,s,o;for(s=i,o=n?"":[];(null==r||null==r(s))&&null!=(u=t(s));)n?o+=u.value:o.push(u.value),s=u.rest;if(!a||0!==o.length)return new e.Result(o,s)},e.many1=function(t){return function(r){return e.baseMany(t,null,!1,!0,r)}},e.concatMany1Till=function(t,r){return function(n){return e.baseMany(t,r,!0,!0,n)}},e.firstChoice=function(){var e;return e=1<=arguments.length?t.call(arguments,0):[],function(t){var r,n,a;for(r=-1,n=e.length;++r<n;)if(null!=(a=(0,e[r])(t)))return a}},h=function(t){var r;return(r={}).wildcard=e.tag("wildcard",e.string(t.wildcardChar)),r.optional=e.tag("optional",e.pick(1,e.string(t.optionalSegmentStartChar),e.lazy(function(){return r.pattern}),e.string(t.optionalSegmentEndChar))),r.name=e.regex(new RegExp("^["+t.segmentNameCharset+"]+")),r.named=e.tag("named",e.pick(1,e.string(t.segmentNameStartChar),e.lazy(function(){return r.name}))),r.escapedChar=e.pick(1,e.string(t.escapeChar),e.regex(/^./)),r.static=e.tag("static",e.concatMany1Till(e.firstChoice(e.lazy(function(){return r.escapedChar}),e.regex(/^./)),e.firstChoice(e.string(t.segmentNameStartChar),e.string(t.optionalSegmentStartChar),e.string(t.optionalSegmentEndChar),r.wildcard))),r.token=e.lazy(function(){return e.firstChoice(r.wildcard,r.optional,r.named,r.static)}),r.pattern=e.many1(e.lazy(function(){return r.token})),r},o={escapeChar:"\\",segmentNameStartChar:":",segmentValueCharset:"a-zA-Z0-9-_~ %",segmentNameCharset:"a-zA-Z0-9",optionalSegmentStartChar:"(",optionalSegmentEndChar:")",wildcardChar:"*"},u=function(e,t){if(Array.isArray(e))return m(e,function(e){return u(e,t)});switch(e.tag){case"wildcard":return"(.*?)";case"named":return"(["+t+"]+)";case"static":return l(e.value);case"optional":return"(?:"+u(e.value,t)+")?"}},i=function(e,t){return null==t&&(t=o.segmentValueCharset),"^"+u(e,t)+"$"},a=function(e){if(Array.isArray(e))return s(e,a);switch(e.tag){case"wildcard":return["_"];case"named":return[e.value];case"static":return[];case"optional":return a(e.value)}},c=function(e,t,r,n){var a,i,u;if(null==n&&(n=!1),null!=(u=e[t])){if(!((a=r[t]||0)>(Array.isArray(u)?u.length-1:0)))return i=Array.isArray(u)?u[a]:u,n&&(r[t]=a+1),i;if(n)throw new Error("too few values provided for key `"+t+"`")}else if(n)throw new Error("no values provided for key `"+t+"`")},n=function(e,t,r){var a,i;if(Array.isArray(e)){for(a=-1,i=e.length;++a<i;)if(n(e[a],t,r))return!0;return!1}switch(e.tag){case"wildcard":return null!=c(t,"_",r,!1);case"named":return null!=c(t,e.value,r,!1);case"static":return!1;case"optional":return n(e.value,t,r)}},d=function(e,t,r){if(Array.isArray(e))return m(e,function(e){return d(e,t,r)});switch(e.tag){case"wildcard":return c(t,"_",r,!0);case"named":return c(t,e.value,r,!0);case"static":return e.value;case"optional":return n(e.value,t,r)?d(e.value,t,r):""}},(r=function(e,t){var n,u,s;if(e instanceof r)return this.isRegex=e.isRegex,this.regex=e.regex,this.ast=e.ast,void(this.names=e.names);if(this.isRegex=e instanceof RegExp,"string"!=typeof e&&!this.isRegex)throw new TypeError("argument must be a regex or a string");if(this.isRegex){if(this.regex=e,null!=t){if(!Array.isArray(t))throw new Error("if first argument is a regex the second argument may be an array of group names but you provided something else");if(n=f(this.regex),t.length!==n)throw new Error("regex contains "+n+" groups but array of group names contains "+t.length);this.names=t}}else{if(""===e)throw new Error("argument must not be the empty string");if(e.replace(/\s+/g,"")!==e)throw new Error("argument must not contain whitespace");if(u={escapeChar:(null!=t?t.escapeChar:void 0)||o.escapeChar,segmentNameStartChar:(null!=t?t.segmentNameStartChar:void 0)||o.segmentNameStartChar,segmentNameCharset:(null!=t?t.segmentNameCharset:void 0)||o.segmentNameCharset,segmentValueCharset:(null!=t?t.segmentValueCharset:void 0)||o.segmentValueCharset,optionalSegmentStartChar:(null!=t?t.optionalSegmentStartChar:void 0)||o.optionalSegmentStartChar,optionalSegmentEndChar:(null!=t?t.optionalSegmentEndChar:void 0)||o.optionalSegmentEndChar,wildcardChar:(null!=t?t.wildcardChar:void 0)||o.wildcardChar},null==(s=h(u).pattern(e)))throw new Error("couldn't parse pattern");if(""!==s.rest)throw new Error("could only partially parse pattern");this.ast=s.value,this.regex=new RegExp(i(this.ast,u.segmentValueCharset)),this.names=a(this.ast)}}).prototype.match=function(e){var t,r;return null==(r=this.regex.exec(e))?null:(t=r.slice(1),this.names?g(this.names,t):t)},r.prototype.stringify=function(e){if(null==e&&(e={}),this.isRegex)throw new Error("can't stringify patterns generated from a regex");if(e!==Object(e))throw new Error("argument must be an object or undefined");return d(this.ast,e,{})},r.escapeForRegex=l,r.concatMap=s,r.stringConcatMap=m,r.regexGroupCount=f,r.keysAndValuesToObject=g,r.P=e,r.newParser=h,r.defaultOptions=o,r.astNodeToRegexString=i,r.astNodeToNames=a,r.getParam=c,r.astNodeContainsSegmentsForProvidedParams=n,r.stringify=d,r});
},{}],"lk3D":[function(require,module,exports) {
    "use strict";var t=this&&this.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function i(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}(),e=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};exports.__esModule=!0;var r=e(require("url-pattern")),i=require("./default_integration"),n=require("../functions");exports.MAGENTO_1_INTEGRATION="MAGENTO_1_INTEGRATION",exports.ENTITY_CMS_PAGE="cms_page",exports.ENTITY_OTHER="other",exports.ENTITY_CATALOG_CATEGORY="catalog_category";var a=function(e){function i(t){var i=e.call(this,t)||this;return i.plugin=t,i.saveCallback=function(t,e){var a=i.getPlugin().getContext(),o=i.getEntityType(),s=e.data.dragDroprPayload.additionalData;switch(s.storeId||(s.storeId="0"),o){case exports.ENTITY_CATALOG_CATEGORY:if(a.tree&&a.reRenderTree){a.reRenderTree({target:{value:s.storeId}},{}),n.isObject(a.Dialog)&&n.isFunction(a.Dialog.closeInfo)&&a.Dialog.closeInfo();break}case exports.ENTITY_CMS_PAGE:if(n.isObject(i.urlParameters)&&n.isNumber(i.urlParameters.identifier))a.location.reload();else{var T=i.getConfig().read("integration."+o+".new_entity");if(n.isString(T)){var _=new r.default(T);a.location.replace(_.stringify(s))}}}},t.createListener("DDR_MESSAGE_SAVE",i.saveCallback),i}return t(i,e),i.prototype.getEntityType=function(){if(n.isVoid(this.entityType)&&(this.entityType=exports.ENTITY_OTHER,this.getPlugin().hasElement()))switch(this.getPlugin().getElement().id){case"page_content":case"cms_page_form_content":this.entityType=exports.ENTITY_CMS_PAGE;break;case"group_4description_editor":case"group_4description":case"category_form_description_editor":case"category_form_description":this.entityType=exports.ENTITY_CATALOG_CATEGORY}return this.entityType},i.prototype.getCmsPageUrlParameters=function(){var t={};if(this.getEntityType()===exports.ENTITY_CMS_PAGE){var e=this.getPlugin().getContext().document.querySelector(this.constructor.ENTITY_CMS_PAGE_ID);if(n.isHTMLInputElement(e)&&e.value){var r=parseInt(e.value,10);n.isNumber(r)&&(t.identifier=r)}}return t},i.prototype.getCatalogCategoryUrlParameters=function(){var t={};if(this.getEntityType()===exports.ENTITY_CATALOG_CATEGORY){var e=this.getPlugin().getContext(),r=e.document.querySelector(this.constructor.ENTITY_CATALOG_CATEGORY_ID),i=e.document.querySelector(this.constructor.ENTITY_CATALOG_CATEGORY_PARENT_ID),a=e.document.querySelector(this.constructor.ENTITY_CATALOG_CATEGORY_STORE_ID);if(n.isHTMLInputElement(r)&&r.value){var o=parseInt(r.value.split("/").pop(),10);n.isNumber(o)&&(t.identifier=o)}if(n.isHTMLInputElement(i)&&i.value){var s=parseInt(i.value,10);n.isNumber(s)&&(t.parentId=s)}if((n.isHTMLSelectElement(a)||n.isHTMLInputElement(a))&&a.value){var T=parseInt(a.value,10);n.isNumber(T)&&(t.storeId=T)}}return t},i.prototype.getEditorUrl=function(t){this.urlParameters={};var i="";switch(this.getEntityType()){case exports.ENTITY_CMS_PAGE:i=this.getConfig().read("integration.cms_page.endpoint"),this.urlParameters=this.getCmsPageUrlParameters();break;case exports.ENTITY_CATALOG_CATEGORY:i=this.getConfig().read("integration.catalog_category.endpoint"),this.urlParameters=this.getCatalogCategoryUrlParameters();break;case exports.ENTITY_OTHER:i=this.getConfig().read("integration.default.endpoint"),n.isString(t)&&(this.urlParameters={identifier:t})}if(this.urlParameters.storeUrl=this.getConfig().read("integration.storeUrl"),this.urlParameters.integrationType=this.getType(),n.isString(i)){var a=new r.default(i);try{return a.stringify(this.urlParameters)}catch(t){console.error(t)}}return this.entityType=exports.ENTITY_OTHER,e.prototype.getEditorUrl.call(this,t)},i.TYPE=exports.MAGENTO_1_INTEGRATION,i.ENTITY_CMS_PAGE_ID='input[name="page_id"]',i.ENTITY_CATALOG_CATEGORY_ID='input[name="general[id]"]',i.ENTITY_CATALOG_CATEGORY_PARENT_ID='input[name="general[path]"]',i.ENTITY_CATALOG_CATEGORY_STORE_ID='select[name="store_switcher"]',i}(i.DefaultIntegration);exports.Magento1Integration=a;
},{"url-pattern":"AZEX","./default_integration":"kRkA","../functions":"q/7t"}],"F/I0":[function(require,module,exports) {
    "use strict";var t=this&&this.__extends||function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(n,e)};return function(n,e){function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}();exports.__esModule=!0;var n=require("./magento1_integration");exports.MAGENTO_2_INTEGRATION="MAGENTO_2_INTEGRATION";var e=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return t(e,n),e.TYPE=exports.MAGENTO_2_INTEGRATION,e.ENTITY_CMS_PAGE_ID='input[name="page_id"]',e.ENTITY_CATALOG_CATEGORY_ID='input[name="path"], input[name="general[path]"]',e.ENTITY_CATALOG_CATEGORY_PARENT_ID='input[name="parent"]',e.ENTITY_CATALOG_CATEGORY_STORE_ID='input[name="store_id"], input[name="store_switcher"]',e}(n.Magento1Integration);exports.Magento2Integration=e;
},{"./magento1_integration":"lk3D"}],"maJn":[function(require,module,exports) {
    "use strict";var t=this&&this.__extends||function(){var t=function(r,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var e in r)r.hasOwnProperty(e)&&(t[e]=r[e])})(r,e)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}();exports.__esModule=!0;var r=require("./default_integration"),e=require("../functions");exports.JWT_INTEGRATION="JWT_INTEGRATION";var n=function(r){function n(){return null!==r&&r.apply(this,arguments)||this}return t(n,r),n.prototype.getEditorUrl=function(t){var n=this.getConfig().read("integration.jwt_token.new_page");return e.isString(t)&&(n=this.getConfig().read("integration.jwt_token.edit_page"),e.isString(n)&&(n=n.replace(":pageId:",t))),e.isString(n)?n:r.prototype.getEditorUrl.call(this,t)},n.TYPE=exports.JWT_INTEGRATION,n}(r.DefaultIntegration);
},{"./default_integration":"kRkA","../functions":"q/7t"}],"LhIH":[function(require,module,exports) {
    "use strict";var t=this&&this.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function i(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}(),e=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};exports.__esModule=!0;var r=e(require("url-pattern")),i=require("./default_integration"),n=require("../functions");exports.WORDPRESS_INTEGRATION="WORDPRESS_INTEGRATION",exports.ENTITY_PAGE="page",exports.ENTITY_POST="post",exports.ENTITY_OTHER="other";var s=function(e){function i(t){var i=e.call(this,t)||this;return i.plugin=t,i.saveCallback=function(t,e){var s=i.getPlugin().getContext(),a=i.getEntityType(),o=e.data.dragDroprPayload.additionalData;switch(a){case exports.ENTITY_PAGE:case exports.ENTITY_POST:if(n.isObject(i.urlParameters)&&n.isNumber(i.urlParameters.identifier)&&!i.urlParameters.skipReload)s.location.reload();else{var u=i.getConfig().read("integration."+a+".new_entity");if(n.isString(u)){var p=new r.default(u);s.location.replace(p.stringify(o))}}}},t.createListener("DDR_MESSAGE_SAVE",i.saveCallback),i}return t(i,e),i.prototype.getEntityType=function(){if(n.isVoid(this.entityType)&&(this.entityType=exports.ENTITY_OTHER,this.getPlugin().hasElement())){var t=this.getPlugin().getElement().ownerDocument.querySelector(this.constructor.ENTITY_INPUT);if(n.isHTMLInputElement(t))switch(t.name){case"dragdropr_post_id":this.entityType=exports.ENTITY_POST;break;case"dragdropr_page_id":this.entityType=exports.ENTITY_PAGE}}return this.entityType},i.prototype.getPageUrlParameters=function(){var t={};if(this.getEntityType()===exports.ENTITY_PAGE){var e=this.getPlugin().getContext().document.querySelector(this.constructor.ENTITY_INPUT);if(n.isHTMLInputElement(e)&&e.value){var r=parseInt(e.value,10);n.isNumber(r)&&(t.identifier=r)}}return t},i.prototype.getPostUrlParameters=function(){var t={};if(this.getEntityType()===exports.ENTITY_POST){var e=this.getPlugin().getContext().document.querySelector(this.constructor.ENTITY_INPUT);if(n.isHTMLInputElement(e)&&e.value){var r=parseInt(e.value,10);n.isNumber(r)&&(t.identifier=r)}}return t},i.prototype.getEditorUrl=function(t,i){this.urlParameters={};var s="";switch(n.isObject(i)||(i={}),i.entityType&&(this.entityType=i.entityType),this.getEntityType()){case exports.ENTITY_PAGE:s=this.getConfig().read("integration.page.endpoint"),this.urlParameters=n.isObject(i.urlParameters)?i.urlParameters:this.getPageUrlParameters();break;case exports.ENTITY_POST:s=this.getConfig().read("integration.post.endpoint"),this.urlParameters=n.isObject(i.urlParameters)?i.urlParameters:this.getPostUrlParameters();break;case exports.ENTITY_OTHER:s=this.getConfig().read("integration.default.endpoint"),n.isString(t)&&(this.urlParameters={identifier:t})}if(this.urlParameters.storeUrl=this.getConfig().read("integration.storeUrl"),this.urlParameters.integrationType=this.getType(),n.isString(s)){var a=new r.default(s);try{return a.stringify(this.urlParameters)}catch(t){console.error(t)}}return this.entityType=exports.ENTITY_OTHER,e.prototype.getEditorUrl.call(this,t)},i.TYPE=exports.WORDPRESS_INTEGRATION,i.ENTITY_INPUT="input#dragdropr_entity_type",i}(i.DefaultIntegration);exports.WordpressIntegration=s;
},{"url-pattern":"AZEX","./default_integration":"kRkA","../functions":"q/7t"}],"laBz":[function(require,module,exports) {
    "use strict";function e(e){for(var t in e)exports.hasOwnProperty(t)||(exports[t]=e[t])}exports.__esModule=!0,e(require("./integrations/default_integration")),e(require("./integrations/magento1_integration")),e(require("./integrations/magento2_integration")),e(require("./integrations/jwt_integration")),e(require("./integrations/wordpress_integration"));
},{"./integrations/default_integration":"kRkA","./integrations/magento1_integration":"lk3D","./integrations/magento2_integration":"F/I0","./integrations/jwt_integration":"maJn","./integrations/wordpress_integration":"LhIH"}],"17yZ":[function(require,module,exports) {
    "use strict";var r=this&&this.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(null!=r)for(var o in r)Object.hasOwnProperty.call(r,o)&&(e[o]=r[o]);return e.default=r,e};exports.__esModule=!0;var e=require("./functions"),o=require("./classes/config"),t=require("./classes/ifame"),n=require("./classes/worker_farm"),a=require("./classes/dependency_manager"),D=r(require("./integrations"));exports.DRAGDROPR_CONTEXT={CONFIG:"DRAGDROPR_CONTEXT_CONFIG",IFRAME:"DRAGDROPR_CONTEXT_IFRAME",LISTENER:"DRAGDROPR_CONTEXT_LISTENER",WORKER_FARM:"DRAGDROPR_CONTEXT_WORKER_FARM",DEPENDENCY_MANAGER:"DRAGDROPR_CONTEXT_DEPENDENCY_MANAGER",INTEGRATIONS:"DRAGDROPR_CONTEXT_INTEGRATIONS"};var i=window;function R(r){void 0===r&&(r=window),e.isFunction(r[exports.DRAGDROPR_CONTEXT.LISTENER])||(r[exports.DRAGDROPR_CONTEXT.LISTENER]=function(o){var t=E(r),n=o.data;if(e.isObject(n)&&t.hasPlugin()){if(!e.isObject(n.dragDroprPayload)){if(!e.isObject(n.action)||"DDR_CLOSE_EDITOR"!==n.action.type)return;n.dragDroprPayload={event:"close"},n.integrationPayload=t.getPlugin().getPayload()}var a=t.getPlugin();switch(n.dragDroprPayload.event){case"ready":o.source.postMessage({integrationPayload:a.getPayload()},o.origin);break;case"save":if(!a.isPayloadApplicable(n.integrationPayload))return;t.remove(),a.setValue(n.dragDroprPayload.html),t.hide();break;case"close":n.dragDroprPayload.close=!0}n.dragDroprPayload.close&&t&&t.remove().hide(),e.isString(n.dragDroprPayload.event)&&a.dispatch("DDR_MESSAGE_"+n.dragDroprPayload.event.toUpperCase(),a,o)}},r.addEventListener("message",r[exports.DRAGDROPR_CONTEXT.LISTENER]))}function s(r){if(void 0===r&&(r=window),e.isVoid(r[exports.DRAGDROPR_CONTEXT.CONFIG])&&(r[exports.DRAGDROPR_CONTEXT.CONFIG]=new o.Config({})),e.isObject(r.DragDropr)||(r.DragDropr={}),!e.isFunction(r.DragDropr.getConfig)){r.DragDropr.getConfig=s;var t=r.document.createEvent("Event");t.initEvent("DragDropr.Config",!0,!0),document.dispatchEvent(t)}return r[exports.DRAGDROPR_CONTEXT.CONFIG]}function E(r){return void 0===r&&(r=window),g(r)&&(r=r.top),e.isVoid(r[exports.DRAGDROPR_CONTEXT.IFRAME])&&(r[exports.DRAGDROPR_CONTEXT.IFRAME]=new t.Iframe(r),R(r)),e.isObject(r.DragDropr)||(r.DragDropr={}),e.isFunction(r.DragDropr.getIframe)||(r.DragDropr.getIframe=E),r[exports.DRAGDROPR_CONTEXT.IFRAME]}function O(r){return void 0===r&&(r=window),e.isVoid(r[exports.DRAGDROPR_CONTEXT.WORKER_FARM])&&(r[exports.DRAGDROPR_CONTEXT.WORKER_FARM]=new n.WorkerFarm(r)),e.isObject(r.DragDropr)||(r.DragDropr={}),e.isFunction(r.DragDropr.getWorkerFarm)||(r.DragDropr.getWorkerFarm=O),r[exports.DRAGDROPR_CONTEXT.WORKER_FARM]}function g(r){try{return r.top!==r&&!e.isVoid(r.top.document)}catch(r){}return!1}function p(r){return void 0===r&&(r=window),e.isVoid(r[exports.DRAGDROPR_CONTEXT.DEPENDENCY_MANAGER])&&(r[exports.DRAGDROPR_CONTEXT.DEPENDENCY_MANAGER]=new a.DependencyManager),e.isObject(r.DragDropr)||(r.DragDropr={}),e.isFunction(r.DragDropr.getDependencyManager)||(r.DragDropr.getDependencyManager=p),r[exports.DRAGDROPR_CONTEXT.DEPENDENCY_MANAGER]}function T(){return i}function c(r){return void 0===r&&(r=window),e.isFunction(r[exports.DRAGDROPR_CONTEXT.INTEGRATIONS])||(r[exports.DRAGDROPR_CONTEXT.INTEGRATIONS]=function(){return e.isObject(r.DragDropr)&&e.isObject(r.DragDropr.Integrations)?r.DragDropr.Integrations:D}),e.isFunction(r.DragDropr.getIntegrations)||(r.DragDropr.getDependencyManager=c),r[exports.DRAGDROPR_CONTEXT.INTEGRATIONS]()}exports.getConfig=s,exports.getIframe=E,exports.getWorkerFarm=O,exports.hasTopContext=g,exports.getDependencyManager=p,exports.getContext=T,exports.getIntegrations=c;
},{"./functions":"q/7t","./classes/config":"3jHN","./classes/ifame":"o496","./classes/worker_farm":"ta4B","./classes/dependency_manager":"zNIb","./integrations":"laBz"}],"DYJp":[function(require,module,exports) {
    "use strict";var t=this&&this.__extends||function(){var t=function(r,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var e in r)r.hasOwnProperty(e)&&(t[e]=r[e])})(r,e)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}();exports.__esModule=!0;var r=require("../classes/base"),e=require("../functions"),n=function(r){function n(t){void 0===t&&(t=window);var e=r.call(this)||this;return e.context=t,e.INNER_CONTEXT=void 0,e.READY=!1,e.INNER_CONTEXT=t,e}return t(n,r),n.prototype.init=function(){this.READY=!0},n.prototype.loaded=function(t){if(!this.isReady())return!1;for(var r=0,e=t=this.normalize(t);r<e.length;r++){var n=e[r];if(!this.check(n))return!1}return!0},n.prototype.simpleUrl=function(t){return e.isString(t)?t.replace("http://","").replace("https://","").split("?")[0]:""},n.prototype.innerContext=function(){return this.INNER_CONTEXT},n.prototype.isReady=function(){return this.READY},n.prototype.normalize=function(t){return e.isArray(t)||(t=e.isString(t)?[t]:[]),t},n}(r.BaseClass);exports.ResourceLoader=n;
},{"../classes/base":"k3rn","../functions":"q/7t"}],"v7Vw":[function(require,module,exports) {
    "use strict";var e=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}();exports.__esModule=!0;var t=require("../functions"),r=require("../context"),o=require("./resource_loader"),n=function(o){function n(e){void 0===e&&(e=window);var t=o.call(this,e)||this;return t.context=e,t.styleQueue={},t.styleCache={},t}return e(n,o),n.prototype.createStyleLink=function(e){var t=this,r=this.context.document.createElement("link");return r.rel="stylesheet",r.type="text/css",r.href=e,r.media="all",r.onload=function(){t.styleCache[t.simpleUrl(e)]=!0},r.onerror=r.onload,r},n.prototype.load=function(e,o){var n=this,i=this.context.document.querySelector("head"),s=i?i.querySelectorAll("link"):null;if(e=this.normalize(e),i&&s&&0!==e.length){for(var c=0,u=e;c<u.length;c++){var l=u[c],a=this.simpleUrl(l);if(a&&!this.styleQueue[a]&&!this.styleCache[a]){for(var h=0;h<s.length;h++){-1===s[h].getAttribute("href").indexOf(a)||(this.styleCache[a]=!0)}this.styleQueue[a]||(this.styleQueue[a]=a,i.insertBefore(this.createStyleLink(l),null))}}var f=t.uniqueID(),y=!1;r.getWorkerFarm(this.context).createWorker(f,function(){n.loaded(e)&&(r.getWorkerFarm(n.context).terminateWorker(f),t.isFunction(o)&&!y&&(y=!0,o()))},50)}},n.prototype.check=function(e){return!(e=this.simpleUrl(e))||!0===this.styleCache[e]},n}(o.ResourceLoader);exports.StyleResourceLoader=n;
},{"../functions":"q/7t","../context":"17yZ","./resource_loader":"DYJp"}],"10DW":[function(require,module,exports) {
    "use strict";var e=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();exports.__esModule=!0;var t=require("../functions"),n=require("./resource_loader");exports.DEFAULT_LOADER="default",exports.SCRIPTJS_LOADER="scriptjs",exports.REQUIREJS_LOADER="requirejs";var r=function(n){function r(e){void 0===e&&(e=window);var t=n.call(this,e)||this;if(t.context=e,t.LOADER=null,t.hasElement())throw"DragDropr script resource loader already exist on page";return t}return e(r,n),r.prototype.init=function(){return this.loadDependencyManager(),n.prototype.init.call(this)},r.prototype.isReady=function(){return n.prototype.isReady.call(this)&&!!this.LOADER},r.prototype.loadDependencyManager=function(){var e=this,n=this.context.document.getElementsByTagName("body").item(0);if(t.isElement(n)){var o=this.context.document.createElement("iframe");o.src="about:blank",o.id=r.NODE_ID,o.style.display="none",o.style.visibility="hidden",o.onload=function(){t.isObject(e.context.DragDropr)||(e.context.DragDropr={}),e.INNER_CONTEXT=o.contentWindow,e.INNER_CONTEXT.DragDropr=e.context.DragDropr,e.INNER_CONTEXT.getComputedStyle=function(){return e.context.getComputedStyle.apply(null,arguments)};var n=o.contentWindow.document.getElementsByTagName("head").item(0);if(n){var r=o.contentWindow.document.createElement("script");r.async=!0,r.src="https://cdn.jsdelivr.net/npm/requirejs@2.3.6/require.min.js",r.onload=function(){e.LOADER=o.contentWindow.requirejs,e.LOADER.config({paths:{jquery:"https://code.jquery.com/jquery-3.3.1.min",fetch:"https://cdn.jsdelivr.net/npm/whatwg-fetch@3.0.0/dist/fetch.umd.min","es6-promise-auto":"https://cdn.jsdelivr.net/npm/es6-promise@4.2.8/dist/es6-promise.auto.min"},map:{"*":{jQuery:"jquery"}},shim:{fetch:{deps:["es6-promise-auto"]}}});var t=null;e.LOADER.onResourceLoad=function(n,r,o){e.INNER_CONTEXT&&e.INNER_CONTEXT.jQuery&&null===t&&(t=e.INNER_CONTEXT.jQuery.fn.init,e.INNER_CONTEXT.jQuery.fn.init=function(n,r,o){return n===e.INNER_CONTEXT&&(n=e.context),void 0===e?t(n,r,o):new t(n,r,o)},e.INNER_CONTEXT.jQuery.fn.init.prototype=e.INNER_CONTEXT.jQuery.fn)},e.READY=!0,e.dispatch("dependency_manager_loaded")},n.insertBefore(r,null)}},n.insertBefore(o,null)}},r.prototype.hasElement=function(){var e=this.context.document.getElementById(r.NODE_ID);return t.isElement(e)},r.prototype.load=function(e,t){var n=this;this.isReady()&&(e=this.normalize(e),this.LOADER(e,function(){t.apply(n.context,arguments)}))},r.prototype.check=function(e){return this.isReady()&&this.LOADER.defined(e)},r.NODE_ID="dragdropr-dependency-manager",r}(n.ResourceLoader);exports.ScriptResourceLoader=r;
},{"../functions":"q/7t","./resource_loader":"DYJp"}],"zNIb":[function(require,module,exports) {
    "use strict";exports.__esModule=!0;var e=require("../dependency_manager/style_resource_loader"),t=require("../dependency_manager/script_resource_loader"),n=function(){function n(n,r,i){void 0===n&&(n=window);var o=this;this.context=n,this.window=void 0,i||(i=new e.StyleResourceLoader(n)),r||(r=new t.ScriptResourceLoader(n)),r.createListener("dependency_manager_loaded",function(){o.window=r.innerContext();var e=document.createEvent("Event");e.initEvent("DragDropr.DependencyManager",!0,!0),o.context.document.dispatchEvent(e)}),this.SCRIPT_RESOURCE_LOADER=r,this.STYLE_RESOURCE_LOADER=i,this.SCRIPT_RESOURCE_LOADER.init(),this.STYLE_RESOURCE_LOADER.init()}return n.prototype.loaded=function(){return this.SCRIPT_RESOURCE_LOADER.isReady()&&this.STYLE_RESOURCE_LOADER.isReady()},n.prototype.loadDependencies=function(e,t,n){return n.load(e,t),this},n.prototype.require=function(e,t){return this.loadDependencies(e,t,this.SCRIPT_RESOURCE_LOADER)},n.prototype.requireStyles=function(e,t){return this.loadDependencies(e,t,this.STYLE_RESOURCE_LOADER)},n}();exports.DependencyManager=n;
},{"../dependency_manager/style_resource_loader":"v7Vw","../dependency_manager/script_resource_loader":"10DW"}],"RDaC":[function(require,module,exports) {
    "use strict";function e(e){for(var s in e)exports.hasOwnProperty(s)||(exports[s]=e[s])}exports.__esModule=!0,e(require("./classes/base")),e(require("./classes/config")),e(require("./classes/ifame")),e(require("./classes/listener")),e(require("./classes/dependency_manager"));
},{"./classes/base":"k3rn","./classes/config":"3jHN","./classes/ifame":"o496","./classes/listener":"M706","./classes/dependency_manager":"zNIb"}],"SFQe":[function(require,module,exports) {
    "use strict";var t=this&&this.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),e=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e};exports.__esModule=!0;var r=require("../functions"),n=require("../context"),i=require("../classes"),o=e(require("../integrations")),a=function(e){function i(t,r){void 0===t&&(t=window),void 0===r&&(r=null);var i=e.call(this)||this;return i.context=t,i.element=r,i.execute=function(t){var e=n.getIframe(i.getContext()),r=i.getPageId(),o=i.getEditorUrl(r,t);e.load(o,i)},i}return t(i,e),i.prototype.getType=function(){return this.constructor.TYPE},i.prototype.getPayload=function(){if(!this.payload){var t=new Date;this.payload={type:n.getConfig(this.getContext()).read("type",!1),apiKey:n.getConfig(this.getContext()).read("apiKey",!1),time:t.getTime()}}return this.payload},i.prototype.setValue=function(t){return this.value=t,this},i.prototype.isPayloadApplicable=function(t){var e=this.getPayload();return r.isObject(t)&&e.apiKey===t.apiKey&&e.time===t.time&&e.type===t.type},i.prototype.getValue=function(){return this.value},i.prototype.getPageId=function(){var t=this.getValue();if(r.isString(t)){var e=this.getContext().document.createElement("div");if(e.innerHTML=t,e=e.querySelector("[data-ddr-page-id]"),r.isElement(e)&&r.isString(e.getAttribute("data-ddr-page-id")))return e.getAttribute("data-ddr-page-id")}},i.prototype.getEditorUrl=function(t,e){return this.getIntegration().getEditorUrl(t,e)},i.prototype.getContext=function(){return this.context},i.prototype.hasElement=function(){return r.isElement(this.element)},i.prototype.getElement=function(){if(this.hasElement())return this.element},i.prototype.getIntegration=function(){if(!this.integration){var t=n.getConfig(this.getContext()).read("integration.type"),e=n.getIntegrations(this.getContext());if(r.isString(t))for(var i in e)if(r.isFunction(e[i])&&e[i].TYPE===t){this.integration=new e[i](this);break}this.integration||(this.integration=new o.DefaultIntegration(this))}return this.integration},i.TYPE="Plugin",i.ID="dragdropr",i.NAME="DragDropr",i.COMMAND="mceDragdropr",i.IMAGE_URL="https://playground.mageshops.com/magento2/pub/static/version1527488629/adminhtml/Magento/backend/en_US/DragDropr_Magento2/wysiwyg/tiny_mce/plugins/dragdropr/image/dragdropr-logo.png",i}(i.BaseClass);exports.Plugin=a;
},{"../functions":"q/7t","../context":"17yZ","../classes":"RDaC","../integrations":"laBz"}],"Zf4B":[function(require,module,exports) {
    "use strict";var t=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();exports.__esModule=!0;var e=require("./plugin"),n=function(e){function n(t){var n=e.call(this,t.ownerDocument.defaultView||t.ownerDocument.parentWindow)||this;return n.element=t,n}return t(n,e),n.prototype.getElement=function(){return this.element},n.prototype.setValue=function(t,n){return void 0===n&&(n=!0),e.prototype.setValue.call(this,t),this.getElement().value=t,n&&this.triggerChangeEvent(),this},n.prototype.getValue=function(){return this.getElement().value},n.prototype.triggerChangeEvent=function(){var t=this.getContext().document.createEvent("HTMLEvents");return t.initEvent("change",!0,!0),this.getElement().dispatchEvent(t),this},n.TYPE="TextAreaPlugin",n}(e.Plugin);exports.TextAreaPlugin=n;
},{"./plugin":"SFQe"}],"aIrr":[function(require,module,exports) {
    "use strict";var t=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();exports.__esModule=!0;var e=require("../functions"),n=function(){function t(){}return t.prototype.lock=function(t,e){return this.isLocked(t,e)||(t.plugins[e]="processing"),this},t.prototype.isLocked=function(t,n){return!e.isVoid(t.plugins[n])},t.prototype.unlock=function(t,e){return"processing"===t.plugins[e]&&delete t.plugins[e],this},t.prototype.encodeContent=function(t){return t},t.prototype.decodeContent=function(t){var e=document.createElement("div");e.innerHTML=t;for(var n=["<script>","<style>"],r=["SCRIPT","STYLE"],o=e.querySelectorAll(".mce-object"),i=0,s=o;i<s.length;i++){var a=s[i];if(-1!==n.indexOf(a.alt)&&a.hasAttribute("data-wp-preserve")){var c=document.createElement("div");c.innerHTML=decodeURIComponent(a.getAttribute("data-wp-preserve")),a.parentNode.replaceChild(c.lastChild,a)}}for(var l=0,u=o=e.querySelectorAll("script, style");l<u.length;l++){var d=(a=u[l]).innerHTML;if(-1!==r.indexOf(a.tagName.toUpperCase())){var p="\x3c!--"===d.substr(0,"\x3c!--".length)?"":"\x3c!--",g="//--\x3e"===d.substr(-1*"//--\x3e".length)?"":"//--\x3e";p&&g&&(d=p+"\n"+d+"\n"+g)}for(var f='<span data-mce-type="bookmark"',h=d.indexOf(f);-1!==h;){var m=d.indexOf("</span>",h);-1!==m&&(d=d.substring(0,h)+d.substring(m+"</span>".length)),h=d.indexOf(f,h+f.length)}a.innerHTML=d}return e.innerHTML},t.prototype.attachEditorListeners=function(t,n){if(t.initialized||t.dom&&t.getContent()){var r=t.getElement();e.isElement(r)&&t.setContent(e.isVoid(r.value)?r.innerHTML:r.value)}},t.prototype.modifyEditorPrototype=function(t){},t}(),r=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return t(r,n),r.prototype.injectButton=function(t,n,r){if(!this.isLocked(r,n)){this.lock(r,n);var o=t.PluginManager.get(n);if(o){if(e.isObject(r.theme)&&e.isObject(r.theme.toolbarGroup)&&e.isArray(r.theme.toolbarGroup.controls)&&e.isObject(r.theme.toolbarGroup.controls[0])){var i=t.DOM.get(r.theme.toolbarGroup.controls[0].id);if(e.isElement(i)&&(i=i.querySelector(".mceToolbarStart.mceToolbarStartButton"),e.isElement(i))){r.plugins[n]=new o(r);var s=r.controlManager.createControl(n),a=r.controlManager.createToolbar(n+"_toolbar"),c=document.createElement("div");a.add(s),c.innerHTML=a.renderHTML(),c=c.querySelector(".mceToolbarStart.mceToolbarStartButton"),e.isElement(c)&&(c=c.nextElementSibling?c.nextElementSibling:null,e.isElement(c)&&(i.parentNode.insertBefore(c,i.nextSibling?i.nextSibling:null),s.postRender()))}}}this.unlock(r,n)}return this},r.prototype.attachGlobalListeners=function(t,n){var r=function(r,o){t.PluginManager.get(n)&&((e.isVoid(o.settings.plugins)||-1===o.settings.plugins.indexOf(n))&&(o.settings.plugins=e.isVoid(o.settings.plugins)?n:o.settings.plugins+","+n),o.settings.theme_advanced_buttons1=e.isVoid(o.settings.theme_advanced_buttons1)?n:n+","+o.settings.theme_advanced_buttons1.replace(n,""))};return t.onAddEditor.add(r),function(t){return r(0,t)}},r.prototype.attachEditorListeners=function(t,r){var o=this;t.onBeforeSetContent.add(function(t,n){void 0===n&&(n={}),e.isString(n.content)&&(n.content=o.decodeContent(n.content))}),n.prototype.attachEditorListeners.call(this,t,r)},r}(n),o=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return t(r,n),r.prototype.injectButton=function(t,n,r){if(!this.isLocked(r,n)){this.lock(r,n);var o=t.PluginManager.get(n);if(o&&e.isObject(r.theme)&&e.isObject(r.theme.panel)&&e.isObject(r.theme.panel.controlIdLookup)){var i=void 0;for(var s in r.theme.panel.controlIdLookup){var a=r.theme.panel.controlIdLookup[s];if("button"===a.type&&(i=a.getEl(),e.isElement(i)))break}if(e.isElement(i))r.plugins[n]=new o(r),t.ui.Factory.create("button",r.buttons[n]).renderBefore(i)}this.unlock(r,n)}return this},r.prototype.attachGlobalListeners=function(t,n){var r=function(r){var o=r.editor;t.PluginManager.get(n)&&((e.isVoid(o.settings.plugins)||-1===o.settings.plugins.indexOf(n))&&(o.settings.plugins=e.isVoid(o.settings.plugins)?n:o.settings.plugins+","+n),o.settings.toolbar=e.isVoid(o.settings.toolbar)?n:n+","+o.settings.toolbar.replace(n,""),e.isVoid(o.settings.toolbar1)||(o.settings.toolbar1=n+","+o.settings.toolbar1))};return t.on("AddEditor",r),function(t){return r({editor:t})}},r.prototype.attachEditorListeners=function(t,r){var o=this;t.on("BeforeSetContent",function(t){e.isObject(t)&&e.isString(t.content)&&(t.content=o.decodeContent(t.content))}),n.prototype.attachEditorListeners.call(this,t,r)},r.prototype.modifyEditorPrototype=function(t){if(t.__proto__.fire.injector!==this){var r=t.__proto__.fire;t.__proto__.fire=function(t,n,o){var a="BeforeSetContent"===t&&e.isObject(n)&&e.isString(n.content);a&&(n.content=i(n.content));var c=r.call(this,t,n,o);return a&&(n.content=s(n.content)),c},t.__proto__.fire.injector=this,n.prototype.modifyEditorPrototype.call(this,t)}},r}(n);function i(t){if(e.isString(t)){var n=document.createElement("div"),r=document.createElement("div");r.innerText="Node added so the DOMParser.parseFromString would not move style/script tags to the the document head in case the style/script tag are first elements in content",r.className="ddr-prepend-node",n.innerHTML=t,n.insertBefore(r,n.firstChild),t=n.innerHTML}return t}function s(t){if(e.isString(t)){var n=document.createElement("div");n.innerHTML=t;for(var r=0,o=n.querySelectorAll(".ddr-prepend-node");r<o.length;r++){var i=o[r];i.parentElement.removeChild(i)}t=n.innerHTML}return t}function a(t){if(e.isString(t)){var n=document.createElement("div");n.innerHTML=t;var r=n.querySelectorAll("script, style");if(r.length){for(var o=0,i=r;o<i.length;o++){var s=i[o],a=document.createElement("div");a.className="ddr-preserve-tag",a.setAttribute("data-preserve-tag",s.tagName.toLowerCase()),a.innerText=s.innerHTML,s.parentNode.insertBefore(a,s)}t=n.innerHTML}}return t}function c(t){if(e.isString(t)){var n=document.createElement("div");n.innerHTML=t;var r=n.querySelectorAll(".ddr-preserve-tag");if(r.length){for(var o=0,i=r;o<i.length;o++){var s=i[o];if(e.isElement(s.nextSibling))if(s.nextSibling.tagName.toLowerCase()===s.getAttribute("data-preserve-tag"))s.parentElement.removeChild(s);else{var a=document.createElement(s.getAttribute("data-preserve-tag"));a.innerHTML=s.innerText,s.parentElement.replaceChild(a,s)}}t=n.innerHTML}}return t}var l=new r,u=new o;function d(t){void 0===t&&(t=window);var e=t.tinyMCE;if(e)switch(e.majorVersion){case"3":return l;case"4":return u}}exports.getContextInjector=d;
},{"../functions":"q/7t"}],"aqkE":[function(require,module,exports) {
    "use strict";var t=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();exports.__esModule=!0;var e=require("./text_area"),o=require("../functions"),n=require("../context"),r=require("../injectors/tinymce"),i=function(e){function i(t){var o=e.call(this,t.getElement())||this;return o.editor=t,o}return t(i,e),i.prototype.getEditor=function(){return this.editor},i.prototype.setValue=function(t){return this.editor.getDoc()?this.editor.setContent(t):e.prototype.setValue.call(this,t),this},i.prototype.getValue=function(){return this.editor.getContent()},i.register=function(t,e){void 0===t&&(t=!1),void 0===e&&(e=window);var u=e.tinyMCE,a=r.getContextInjector(e),s=n.getConfig(e);if(u){if(u.PluginManager&&!u.PluginManager.get(i.ID)){u.PluginManager.add(i.ID,function(t){t.buttons&&t.buttons[i.ID]||(t.addButton(i.ID,{title:i.NAME,cmd:i.ID,image:i.IMAGE_URL,disabled:!1}),t.addCommand(i.ID,function(e,o){return new i(t).execute(),!0}),o.isVoid(a)||(a.attachEditorListeners(t,i.ID),a.modifyEditorPrototype(t)))});var c=u.Editor.prototype.setContent;u.Editor.prototype.setContent=function(t,e){return void 0===e&&(e={}),e.format="raw",o.isVoid(a)||(t=a.encodeContent(t)),c.call(this,t,e)};var d=u.Editor.prototype.getContent;u.Editor.prototype.getContent=function(t){return void 0===t&&(t={}),t.format="raw",d.call(this,t)}}if(t&&!o.isVoid(a)){o.isVoid(s.read(i.TYPE,!1))&&s.write(i.TYPE,a.attachGlobalListeners(u,i.ID));for(var p=0,f=u.editors;p<f.length;p++){var l=f[p];!l.initialized&&o.isVoid(l.theme)||a.injectButton(u,i.ID,l)}}}},i.TYPE="TinyMCEPlugin",i}(e.TextAreaPlugin);exports.TinyMCEPlugin=i,i.register(!1);
},{"./text_area":"Zf4B","../functions":"q/7t","../context":"17yZ","../injectors/tinymce":"aIrr"}],"yC9g":[function(require,module,exports) {
    "use strict";exports.__esModule=!0;var t=require("../functions"),e=function(){function e(){}return e.prototype.getEventName=function(t){return e.TYPE+"."+t},e.prototype.injectButton=function(e,n,o){var i=!1;if(-1===o.opts.pluginsEnabled.indexOf(n)&&(o.opts.pluginsEnabled.push(n),i=!0),-1===o.opts.toolbarButtons.indexOf(n)&&(o.opts.toolbarButtons.unshift(n),i=!0),i){var r=o.button.buildList([n]);t.isString(r)&&o.$tb.find("[type='button'][data-cmd]").first().before(r),jQuery(e.document).trigger(this.getEventName(n),o)}return this},e.prototype.attachGlobalListeners=function(e,n){var o=e.jQuery;return o&&o.FroalaEditor&&o(e.document).on("froalaEditor.initialized "+this.getEventName(n),function(e,o){if(-1!==o.opts.pluginsEnabled.indexOf(n)){o.opts.htmlExecuteScripts=!1;for(var i=0,r=["script","style"];i<r.length;i++){var s=r[i];-1===o.opts.htmlAllowedTags.indexOf(s)&&o.opts.htmlAllowedTags.push(s);var l=o.opts.htmlRemoveTags.indexOf(s);-1!==l&&o.opts.htmlRemoveTags.splice(l,1)}var a=o.$el.html;o.$el.html=function(e){return t.isString(e)?(o.$el.get(0).innerHTML=e,o.$el):a.apply(o.$el,arguments)},t.isString(o._original_html)&&o.html.set(o._original_html)}}),this},e.TYPE="FroalaPlugin",e}();exports.PluginInjector=e;var n=new e;function o(t){void 0===t&&(t=window);var e=t.jQuery;if(e&&e.FroalaEditor)return n}exports.getContextInjector=o;
},{"../functions":"q/7t"}],"t3vp":[function(require,module,exports) {
    "use strict";var t=this&&this.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function o(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}();exports.__esModule=!0;var e=require("./plugin"),r=require("../functions"),o=require("../context"),i=require("../injectors/froala"),n=function(e){function n(t){var r=e.call(this,t.$el.get(0).ownerDocument.defaultView||t.$el.get(0).ownerDocument.parentWindow)||this;return r.editor=t,r}return t(n,e),n.prototype.getEditor=function(){return this.editor},n.prototype.setValue=function(t){return e.prototype.setValue.call(this,t),this.editor.html.set(t),this},n.prototype.getValue=function(){return this.editor.html.get(!1)},n.register=function(t,e){void 0===t&&(t=!1),void 0===e&&(e=window);var a=e.jQuery,u=i.getContextInjector(e),c=o.getConfig(e);if(a&&a.FroalaEditor&&(a.FroalaEditor.ICONS[n.ID]||a.FroalaEditor.DefineIcon(n.ID,{template:"image",SRC:n.IMAGE_URL}),a.FroalaEditor.COMMANDS[n.ID]||a.FroalaEditor.RegisterCommand(n.ID,{title:n.NAME,icon:n.ID,focus:!0,undo:!0,refreshAfterCallback:!0,callback:function(){new n(this).execute()}}),!r.isVoid(u)&&r.isVoid(c.read(n.TYPE,!1))&&c.write(n.TYPE,u.attachGlobalListeners(e,n.ID)),t))for(var l=0,s=a.FroalaEditor.INSTANCES;l<s.length;l++){var f=s[l];r.isVoid(u)||u.injectButton(e,n.ID,f)}},n.TYPE="FroalaPlugin",n}(e.Plugin);exports.FroalaPlugin=n,n.register(!1);
},{"./plugin":"SFQe","../functions":"q/7t","../context":"17yZ","../injectors/froala":"yC9g"}],"LEfK":[function(require,module,exports) {
    "use strict";var t=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();exports.__esModule=!0;var e=require("./plugin"),o=require("../functions"),n=function(e){function n(t){var o=e.call(this,t.rootElement.ownerDocument.defaultView||t.rootElement.ownerDocument.parentWindow)||this;return o.app=t,o.modifyApp(),o}return t(n,e),n.prototype.getApp=function(){return this.app},n.prototype.setValue=function(t){return e.prototype.setValue.call(this,t),this.app.editor.getElement().html(t),this},n.prototype.getValue=function(){var t=this.app.editor.getElement().html();return o.isString(t)?t:void 0},n.prototype.modifyApp=function(){return this.app.opts.removeScript=!1,this},n.register=function(t,e){void 0===t&&(t=!1),void 0===e&&(e=window);var o=e.Redactor;if(o){if(!o.plugins[n.ID]){var r='<img style="width:16px;margin-top:-1px;" src=[SRC] alt=[ALT] />';r=r.replace("[SRC]",n.IMAGE_URL).replace("[ALT]",n.ID),o.add("plugin",n.ID,{app:void 0,init:function(t){this.app=t,t.toolbar.addButton(n.ID,{title:n.NAME,tooltip:n.NAME,icon:r,api:"plugin."+n.ID+".execute"})},execute:function(){new n(this.app).execute()}})}if(t)for(var i=0,p=o.app;i<p.length;i++){var u=p[i];u.toolbar.getButton(n.ID)||(u.opts.plugins.push(n.ID),u.toolbar&&u.toolbar.buttons&&u.toolbar.buttons.unshift(n.ID),u.buildPlugins())}}},n.TYPE="RedactorPlugin",n}(e.Plugin);exports.RedactorPlugin=n,n.register(!1);
},{"./plugin":"SFQe","../functions":"q/7t"}],"C0Bt":[function(require,module,exports) {
    "use strict";function e(e){for(var r in e)exports.hasOwnProperty(r)||(exports[r]=e[r])}exports.__esModule=!0;var r=require("./plugins/plugin"),n=require("./plugins/text_area"),i=require("./plugins/tinymce"),t=require("./context"),u=require("./functions");function o(e,r){void 0===r&&(r=window);for(var n=t.getWorkerFarm(r),i=function(e){e.TYPE&&e.register&&n.createWorker(e.TYPE,function(){e.register(!0,r)})},u=0,o=e;u<o.length;u++){i(o[u])}}function s(e,t){if(u.isElement(e)){var o=e.ownerDocument.defaultView||e.ownerDocument.parentWindow;switch(t){case r.Plugin.TYPE:return new r.Plugin(o,e);case n.TextAreaPlugin.TYPE:if(u.isHTMLTextAreaElement(e)){if(o.tinyMCE)for(var a=0,l=o.tinyMCE.editors;a<l.length;a++){var g=l[a];if(g.getElement()===e)return new i.TinyMCEPlugin(g)}return new n.TextAreaPlugin(e)}default:return u.isHTMLTextAreaElement(e)?s(e,n.TextAreaPlugin.TYPE):s(e,r.Plugin.TYPE)}}}e(require("./plugins/plugin")),e(require("./plugins/text_area")),e(require("./plugins/froala")),e(require("./plugins/redactor")),e(require("./plugins/tinymce")),exports.registerWorkers=o,exports.factory=s;
},{"./plugins/plugin":"SFQe","./plugins/text_area":"Zf4B","./plugins/tinymce":"aqkE","./context":"17yZ","./functions":"q/7t","./plugins/froala":"t3vp","./plugins/redactor":"LEfK"}],"Eifh":[function(require,module,exports) {
    "use strict";function r(r){for(var e in r)exports.hasOwnProperty(e)||(exports[e]=r[e])}var e=this&&this.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(null!=r)for(var t in r)Object.hasOwnProperty.call(r,t)&&(e[t]=r[t]);return e.default=r,e};exports.__esModule=!0;var t=e(require("./classes")),s=e(require("./plugins")),i=e(require("./integrations"));r(require("./functions")),r(require("./context")),exports.Classes=t,exports.Plugins=s,exports.Integrations=i;
},{"./classes":"RDaC","./plugins":"C0Bt","./integrations":"laBz","./functions":"q/7t","./context":"17yZ"}]},{},["Eifh"], "DragDropr")